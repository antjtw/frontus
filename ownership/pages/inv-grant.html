<div class="container">

  <div class="row-fluid">
    <div class="span8 docLibrary statusBlock" style="overflow:auto;">
      <div class="headsection row-fluid">
        <h1>{{selected.name}}</h1>

        <div class="row-fluid">

          <ul class="bodyText maintabs">
            <a href="/ownership/investor-captable"><li class="button">Ownership</li></a>
            <li class="selectedtab">Grants</li>
           </ul>
        </div>
      </div>

      <div class="row-fluid">
        <div class="subnav-controls">
        </div>
      </div>

      <div class="row-fluid">
       <table class="tableView bodyText">
            <tr class="column-label">
            <th><span class="longrow">Shareholder</span></th>
              <th>Granted</th>
              <th>Vested</th>
              <th>Forfeited</th>
              <th>Exercised</th>
            </tr>
          <tr ng-click="getActiveTransaction(row.name)" ng-repeat="row in rows" ng-class="{rowSelected:row.state}">
            <td>
              <input disabled style="width:180px;" ng-model="row.name">
            </td>
            <td>{{row.granted}}</td>
            <td>{{row.vested}}</td>
            <td>{{row.forfeited}}</td>
            <td>{{row.exercised}}</td>
          </tr>
          <tr class='tablefooter'>
            <td></td>
              <td><input disabled value="{{totalTranAction('granted', trans)}}"></td>
              <td><input disabled value="{{totalVestedAction(rows);}}"></td>
              <td><input disabled value="{{totalGrantAction('forfeited', grants)}}"></td>
              <td><input disabled value="{{totalGrantAction('exercised', grants);}}"></td>
          </tr>
        </table>
      </div>
    </div>


    <div class="span4 capright">
      <div ng-switch on="sideBar" >
        <span ng-switch-when="1">
          <div class="headsection row-fluid">
              <h2>{{activeInvestor}}</h2>
              <p>Terms from the ownership table</p>
          </div>
          <tabset>
            <tab ng-repeat="tran in activeTran" heading="{{tran.date | date:'mediumDate'}}" active="tran.active">
              <p>Date <input disabled type="text" ng-model="tran.date" data-date-format="mm/dd/yyyy" bs-datepicker></p>

              <accordion close-others="true">
                  <accordion-group heading="Grant Information">
                      <p class="rightTitle"><span>Underlying Security</span>
                          <select disabled ng-init="tran.optundersec" ng-change="saveTran(tran)" ng-model="tran.optundersec" ng-options="i for i in tran.allowKeys">
                              <option></option>
                          </select>
                      </p>
                      <p class="rightTitle"><span>Price</span><input disabled ng-model="tran.price"></p>
                      <p class="rightTitle"><span>Granted</span><input disabled value="{{tran.units}}"></p>
                      <p class="rightTitle"><span>Term (months)</span><input disabled ng-model="tran.terms"></p>
                      <p class="rightTitle"><span>Vesting Cliff %</span><input disabled ng-model="tran.vestcliff"></p>
                      <p class="rightTitle"><span>Vesting Cliff Date</span><input disabled type="text" ng-model="tran.vestingbegins" data-date-format="mm/dd/yyyy" bs-datepicker></p>
                      <p class="rightTitle"><span>Post Cliff Frequency</span>
                          <select disabled ng-init="tran.vestfreq" ng-change="saveTran(tran)" ng-model="tran.vestfreq" ng-options="i for i in freqtypes">
                          </select>
                      </p>
                  </accordion-group>
                  <accordion-group heading="Grant Activity">
                  <ul>
                      <li class="grant-list" ng-repeat="act in tran.activeAct">
                          <div class="rightTitle"><span>Action</span>
                              <ul style="display: inline-block">
                                  <li class="dropdown standard small">
                                      <a class="dropdown-toggle">
                                          {{act.action}}<span class="invisible-drop">'</span>
                                      </a>
                                  </li>
                              </ul>
                          </div>
                          <p class="rightTitle"><span>Date</span><input disabled ng-model="act.date" data-date-format="mm/dd/yyyy" bs-datepicker></p>
                          <p class="rightTitle"><span>Shares</span><input disabled ng-model="act.unit">
                      </li>
                  </ul>
                  </accordion-group>
              </accordion>
            </tab>
          </tabset>
        </span>

        <span ng-switch-when="2">
          <p>Investor Email <input disabled ng-model="activeInvestorName"></input></p>
        </span>
        <span class="capGuide" ng-switch-default>
                <h2>View your Grants</h2>

                <p>The information to the left contains the sum total of your company grants, including
                    vesting progress and any actions taken. Click on your name to reveal additional detail.</p>
              </span>
      </div>
    </div>
  </div>
</div>