<div class="container">

    <div class="row-fluid">
        <div class="span8 docLibrary leftBlock">
            <div class="headsection row-fluid">

                <ul class="maintabs head-text">
                    <li><a href="/ownership/investor-captable">Ownership</a></li>
                    <li class="selectedtab">Grants</li>
                </ul>
            </div>

            <div class="row-fluid">
                <table class="tableView bodyText grant-table">
                    <tr class="column-label">
                        <th>Shareholder</th>
                        <th>Granted</th>
                        <th>Vested</th>
                        <th>Forfeited</th>
                        <th>Exercised</th>
                    </tr>
                    <tr class="pointer status-row" ng-click="getActiveTransaction(row.name)" ng-repeat="row in rows" ng-class="{rowSelected:row.state}">
                        <td>
                            <input disabled style="width:180px;" ng-model="row.name">
                        </td>
                        <td>{{formatAmount(row.granted)}}</td>
                        <td>{{formatAmount(row.vested)}}</td>
                        <td>{{formatAmount(row.forfeited)}}</td>
                        <td>{{formatAmount(row.exercised)}}</td>
                    </tr>
                    <tr class="total-row">
                        <td>Total</td>
                        <td colspan="4"></td>
                    </tr>
                    <tr ng-show="rows.length > 1" class='tablefooter'>
                        <td></td>
                        <td><input disabled value="{{formatAmount(totalTranAction('granted', trans))}}"></td>
                        <td><input disabled value="{{formatAmount(totalVestedAction(rows))}}"></td>
                        <td><input disabled value="{{formatAmount(totalGrantAction('forfeited', grants))}}"></td>
                        <td><input disabled value="{{formatAmount(totalGrantAction('exercised', grants))}}"></td>
                    </tr>
                </table>
            </div>
        </div>


        <div class="span4 capright">
            <div ng-switch on="sideBar" >
        <span ng-switch-when="1">
          <div class="headsection tabbed row-fluid">
              <h1>{{activeInvestor}}</h1>
              <p>Terms from the ownership table</p>
          </div>
          <tabset class="trantabs">
              <tab ng-repeat="tran in activeTran" heading="{{tran.date | date:'shortDate'}}" active="tran.active">

                  <div class="capGuide global" style="overflow: auto">
                      <h2>Information</h2>

                      <p ng-show="tran.optundersec" class="belowTitle"><span ng-bind="tran.optundersec"></span><span tooltip-placement="top" tooltip="The security each granted share will convert to upon exercise">Underlying Security</span></p>

                      <p ng-show="tran.price" class="belowTitle"><span ng-bind="formatDollarAmount(tran.price)"></span><span tooltip-placement="top" tooltip="The price each granted share can be purchased at when vested">Strike Price</span></p>

                      <p ng-show="tran.terms" class="belowTitle"><span ng-bind="tran.terms"></span><span tooltip-placement="top" tooltip="The total number of months until fully vested">Vesting Term (months)</span></p>

                      <p ng-show="tran.vestingbegins" class="belowTitle"><span ng-bind="tran.vestingbegins | date:'shortDate'"></span><span tooltip-placement="top" tooltip="The date the vesting cliff percentage becomes vested">Vesting Cliff Date</span></p>

                      <p ng-show="tran.vestcliff" class="belowTitle"><span ng-bind="tran.vestcliff"></span><span tooltip-placement="top" tooltip="The percentage of granted shares that are considered vested on the cliff date">Vesting Cliff %</span></p>


                      <p ng-show="tran.vestfreq" class="belowTitle"><span ng-bind="tran.vestfreq"></span><span tooltip-placement="top" tooltip="The frequency that granted shares vest after the cliff date, distributed evenly by frequency until the vesting term ends">Post Cliff Frequency</span></p>

                  </div>

                  <div class="grant-list-table" ng-show="tran.activeAct.length > 0">
                      <h2>Grant Activity</h2>
                      <table>
                          <tr>
                              <td>Date</td>
                              <td>Activity</td>
                              <td>Shares</td>
                          </tr>
                          <tr ng-repeat="act in tran.activeAct">
                              <td class="rightTitle">{{act.date | date:'shortDate'}}</td>
                              <td class="rightTitle">{{act.action}}</td>
                              <td class="rightTitle">{{formatAmount(act.unit)}}</td>
                          </tr>
                      </table>
                  </div>

              </tab>
          </tabset>
        </span>

        <span ng-switch-when="2">
          <p>Investor Email <input disabled ng-model="activeInvestorName"></p>
        </span>
        <span class="capGuide" ng-switch-default>
                <h1 class="right-bar-header">View your Grants</h1>

                <p>The information to the left contains the sum total of your company grants, including
                    vesting progress and any actions taken. Click on your name to reveal additional detail.</p>
              </span>
            </div>
        </div>
    </div>
</div>