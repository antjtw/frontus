<div class="modal-backdrop"></div>
<div class="row-fluid" style="height:60px;"></div>
<div ng-init="init()" class="docViewer">
    <div class="docViewerHeader">
        <div class="row-fluid docViewerTitle">
            <div class="pull-left">
                <div class="docName">{{lib.docname}}</div>
                <div class="docStatus" ng-show="!invq">{{doc_status}}</div>
            </div>
            <div class="lastUpdated pull-right">
                Last Updated {{lib.last_updated | fromNow}}
                <button ng-click="goback($event)"><span data-icon="&#xe00f;" aria-hidden="true"></span></button>
            </div>
        </div>
        <div class="row-fluid docViewerControls">
            <div class="tools pull-left" ng-class="{hidden: !annotable()}">
                <button ng-click="newPad($event)"><span data-icon="&#xe00d;" aria-hidden="true"></span></button>
                <button ng-click="newCheck($event)"><span data-icon="&#xe023;" aria-hidden="true"></span></button>
                <button ng-click="newBox($event)"><span data-icon="&#xe01d;" aria-hidden="true"></span></button>
                <button ng-click="newDate($event)"><span data-icon="&#xe025;" aria-hidden="true"></span></button>
                <!-- <button ng-click="newSignature($event)"><span data-icon="&#xe02e;" aria-hidden="true"></span></button>  --!>
            </div>
            <div class="pageTurn pull-left">
                <ul ng-class="{'hidden':docLength==1}">
                    <li class="button" ng-click="previousPage(currentPage)">
                        <span ng-class="{'locked':currentPage<=0}" data-icon="&#xe003;" aria-hidden="true"></span>
                    </li>
                    <li>
                        <label><input ng-pattern="/^[0-9]+$/" ng-model="currentPage" ng-change="jumpPage(currentPage)" class="page-jumper" style="width: {{length_digits}}px !important"></label>
                    </li>
                    <li>
                        / {{docLength || "   "}}
                    </li>
                    <li ng-class="{'locked' : currentPage>=docLength}" class="button" ng-click="nextPage(currentPage)">
                        <span data-icon="&#xe002;" aria-hidden="true"></span>
                    </li>
                </ul>
            </div>
            <div class="docActions pull-right" ng-class="{hidden: !annotable()}">
                <div class="small-standard-button gray pull-left">
                    <button class="btn" ng-click="goback()">Cancel</button>
                </div>
                <div class="small-standard-button blue pull-right">
                    <button class="btn" ng-click="saveNoteData()">Save</button>
                </div>
                <div class="standard-button red">
                    <button class="btn" ng-show="lib.when_signed && !lib.when_confirmed" ng-click="rejectDocOpen()">Reject</button>
                </div>
                <div class="standard-button pull-right">
                    <button class="btn" ng-show="lib.when_signed && !lib.when_confirmed" ng-click="confirmModal=true">Countersign</button>
                </div>
                <div class="standard-button pull-right">
                    <button class="btn" ng-show="lib.signature_deadline && !lib.when_signed" ng-click="confirmModal=true">Sign</button>
                </div>
            </div>
            <div class="DivHelper"></div>
        </div>
        <div>
            <ul class="page-bar" ng-show="showPageBar && docLength > 1 && annotable()" style="">
                <li>Annotated Pages</li>
                <li ng-class="{hidden: pageScroll==1}" ng-click="pageBarLeft();" style="font-size: 150%;">
                    <span data-icon="&#xe032;"></span>
                </li>
                <li ng-repeat="page in showPages() track by $id($index)" ng-class="{curPage:page==currentPage}" class="page-tabs" ng-click="jumpPage(page)">
                    <span data-icon="{{isAnnotated(page)?'&#xe006;' : '&#xe009;'}}" aria-hidden="true"></span>
                    <span> {{page}}</span>
                </li>
                <li ng-show="morePages()" style="float: right; margin-right:0.5em; font-size: 150%;">
                    <span ng-click="pageBarRight();" data-icon="&#xe033;"></span>
                </li>
            </ul>
        </div>
    </div>
    <div ng-show="docId" class="docPanelContainer row-fluid">
        <div class="docPanel" data-back-img="/photo/docpg?{{pageQueryString}}&page={{currentPage}}">
    </div>
</div>

