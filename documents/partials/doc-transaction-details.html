<div class="bottom-padded" ng-hide="doc.issue">
    <div>
    <span>Do you want to link this document with a Cap Table transaction?</span>
    <input ui-select2="select2Options" ng-model="selectedIssue">
    <button ng-click="doc.setTransaction(selectedIssue.issue);" ng-show="selectedIssue.id != 0" ng-disabled="selectedIssue.id == 0">Next</button>
    </div>
</div>
<div ng-show="doc.issue">
    <div class="bottom-padded">
        <span>Fields necessary to add a cap table entry into {{doc.issue}}. <span ng-show="doc.numFieldsComplete() == 0" class='back-button' ng-click="doc.unsetTransaction();">
            Unlink
        </span>
        </span>
        <div class="required-fields" ng-class="{'field-completed': (doc.hasAnnotationType(field.name))}" ng-repeat="field in doc.annotation_types" ng-show="field.required">
            <span><span data-icon="&#xe052;" ng-show="doc.hasAnnotationType(field.name) || doc.hasOtherPartyAnnotation(field.name)"></span></span>
            <span>{{field.display}}</span>
            <span ng-show="doc.hasOtherPartyAnnotation(field.name)"> (Recipient Completes)</span>
            <span ng-show="!doc.hasOtherPartyAnnotation(field.name) && doc.hasAnnotationType(field.name) && !doc.hasFilledAnnotation(field.name)"> (Specific to Recipient)</span>
        </div>
    </div>
    <div class="fields-progress">
        <div>Progress</div>
        <span ng-show="doc.numFieldsComplete() != doc.numFieldsRequired()">{{doc.numFieldsComplete()}}/{{doc.numFieldsRequired()}} added to document</span>
        <span ng-show="doc.numFieldsComplete() == doc.numFieldsRequired()">Document is ready for recipients!</span>
        <meter cur="doc.numFieldsComplete()" tot="doc.numFieldsRequired()"></meter>
    </div>
</div>
