<div class="container">

  <div modal="remModal" close="remclose()" options="remopts">
    <div class="modalHeader">
      <p class="subText">Send Reminder</p>
    </div>

    <div class="modalText">
      Send a reminder to {{reminder}}.
      <p>Message</p>
      <label>
        <textarea rows="4" cols="40" ng-model="messageText"></textarea>
      </label>
    </div>

    <div class="modalButtons">
      <button class="button subText greyButton" ng-click="remclose();">Never Mind!</button>
      <button class="button subText greenButton" ng-click="remclose(); remind(messageText, reminder);">Remind</button>
    </div>
  </div>

  <div class="row-fluid">
    <div class="headsection row-fluid">
      <h1><a href="/documents/"><span data-icon="&#xe038;" style="font-size: 300%;" aria-hidden="true"></span></a>{{document.docname}}</h1>

      <div class="row-fluid">

        <ul class="bodyText maintabs">
          <li class="selectedtab">Status</li>
          <li class="button"><a href="/documents/company-view?doc={{document.doc_id}}">
            View
          </a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row-fluid">

    <div class="span8">

      <div class="row-fluid">
        <div class="subnav-controls">
          <div>
            <h2>Shareholder Status</h2>
          </div>
          <div class="DivHelper"></div>
        </div>
      </div>
      <div class="row-fluid">
        <table class="docLibrary tableView bodyText">
          <tr class="column-label">
            <th><span>Shareholder</span></th>
            <th><span>Email</span></th>
            <th colspan="2"><span>Status</span></th>
          </tr>
          <tbody ng-repeat="person in docversions">
          <tr ng-class="{'status-showing': person.shown}" ng-click="showStatusDetail(person)">
            <td>{{person.name}}</td>
            <td>{{person.investor}}</td>
            <td>{{person.signature_status}}</td>
          </tr>
          <tr ng-show="person.shown" >
          <td colspan="3" class="personDetails status-bar">

            <div>
                  <span data-icon="&#xe024;" aria-hidden="true"></span>
                    <p class="doubleTime">Sent</p>
                    <p class="doubleTime">{{person.when_shared | date:'MMMM dd, yyyy'}}</p>
                    <p>{{person.when_shared | date:'h:mm a'}}</p>
            </div>

            <div>
                  <span data-icon="&#xe001;" aria-hidden="true"></span>
                  <div ng-switch on="person.last_viewed">
                    <div ng-switch-when="null"><p>Never viewed</p></div>
                    <div ng-switch-default>
                      <p class="doubleTime">Last viewed</p>
                      <p class="doubleTime">{{person.last_viewed | date:'MMMM dd, yyyy'}}</p>
                      <p>{{person.last_viewed | date:'h:mm a'}}</p>
                    </div>
                  </div>
            </div>

            <div>
                  <span data-icon="&#xe015;" aria-hidden="true"></span>
                  <div ng-switch on="person.signature_deadline">
                    <div ng-switch-when="null"><p>No signature required</p></div>
                    <div ng-switch-default>
                      <p class="doubleTime">Signature deadline</p>
                      <p class="doubleTime">{{person.signature_deadline| date:'MMMM dd, yyyy'}}</p>
                    </div>
                  </div>
            </div>
              <div>
                  <span data-icon="&#xe00d;" aria-hidden="true"></span>
                  <div ng-switch on="person.when_signed">
                    <div ng-switch-default>
                      <p class="doubleTime">Signed</p>
                      <p class="doubleTime">{{person.when_signed | date:'MMMM dd, yyyy'}}</p>
                      <p>{{person.when_signed | date:'h:mm a'}}</p>
                    </div>
                  </div>
              </div>
            <div>
                  <span data-icon="&#xe02e;" aria-hidden="true"></span>
                  <div ng-switch on="person.when_confirmed">
                    <div ng-switch-when="null">
                      <p>Not countersigned</p></div>
                    <div ng-switch-default>
                      <p class="doubleTime">Countersigned</p>
                      <p class="doubleTime">{{person.when_confirmed | date:'MMMM dd, yyyy'}}</p>
                      <p>{{person.when_confirmed | date:'h:mm a'}}</p>
                    </div>
                  </div>
              </div>
              </td>
          </tr>

          </tbody>
        </table>

     <!--
          <tr ng-show="person.shown" class="personDetails">
            <td colspan="2">
              <div><p>Delivered</p>

                <p class="doubleTime">{{person.whensent | date:'MMMM dd, yyyy'}}</p>

                <p>{{person.whensent | date:'h:mm a'}}</p></div>

              <div>
                <div ng-switch on="person.lastlogin">
                  <span ng-switch-when="0"><span class="hltext">Never Logged In</span></span>
                  <span ng-switch-default><p>Last Login</p><p class="doubleTime">{{person.lastlogin | date:'MMMM dd,
                    yyyy'}}</p><p>{{person.lastlogin | date:'h:mm a'}}</p></span>
                </div>
              </div>

              <div>
                <div ng-switch on="person.lastviewed">
                  <span ng-switch-when="0"><span class="hltext">Unviewed</span></span>
                  <span ng-switch-default><p>Viewed</p><p class="doubleTime">{{person.lastviewed | date:'MMMM dd,
                    yyyy'}}</p><p>{{person.lastviewed | date:'h:mm a'}}</p></span>
                </div>
              </div>

              <div>
                <div ng-switch on="person.signed">
                  <span ng-switch-when="0"><span class="hltext">Unsigned</span></span>
                  <span ng-switch-default><p>Signed</p><p class="doubleTime">{{person.signed | date:'MMMM dd, yyyy'}}</p>
                    <p>{{person.signed | date:'h:mm a'}}</p></span>
                </div>
              </div>
         -->

              <!--
              <div>
                <div ng-switch on="person.column5" >
                  <p ng-switch-default="0"></p>
                  <span ng-switch-when="2"><span>Revoked</span><span class="doubleTime">{{person.reminder | date:'MMMM dd, yyyy'}}</p><p>{{person.reminder | date:'h:mm a'}}</span></span>
                  <span ng-switch-when="1">Resent<span class="doubleTime">{{person.reminder | date:'MMMM dd, yyyy'}}</span><span>{{person.reminder | date:'h:mm a'}}</span></span>
                 </div>
              </div> -->
      </div>
    </div>

    <div class="span4 activity-feed">

      <div class="row-fluid">
        <div class="subnav-controls">
          <div>
            <h2>Activity Feed</h2>
          </div>
          <div class="DivHelper"></div>
        </div>
      </div>

      <div class="row-fluid">
        <table>
          <tr ng-repeat="active in activity"  ng-show="active | description"> <!-- | order by activityOrder -->
            <!-- <td><span data-icon="{{active.activity | icon }}" aria-hidden="true"></span></td> -->
            <td><i class="{{active.activity | icon}}"></i></td>
            <td>
                  {{active | description }}
                    <!-- <ng-pluralize count="active.count"
                                  when="{'0': '', '1': '{{active.namethem}}', 'other': '{{active.count}} people'}">
                    </ng-pluralize> -->
                  <span class="smallDate">( {{active.event_time | date:"MMMM d, y"}} )</span>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
