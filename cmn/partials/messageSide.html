<div class="row-fluid">
<div class="message-side">
<!--     <tabset class="singletab">
       <tab heading="Activity" class="navbar navbar-default navbar-fixed-top">
 -->
<div class="messages tabbable" ng-if="myEvents == 0">
    <div class= "noMessages">
        You haven't sent any messages yet!
    </div>
</div>

 <div class="messages tabbable" ng-if="myEvents > 1">            
    <ul class="activity-feed2">
                    <li class="event" ng-repeat="message_datum in message_data | orderBy:'time':true">
                        <div><img ng-src="/img/activity/message.png"></div>
                        <div>
                            <ul>
                                <li>
                                    <span>
                                        Message sent on {{message_datum.time | date:'shortDate'}} to <ng-pluralize count="message_datum.tox.length" when="{'1': 'one shareholder', 'other': '{} shareholders'}">
                                    </span><br/>
                                    
                                    <div ng-if="message_datum.tox.length == 1" ng-click = "showRecipients = !showRecipients" >
                                     <span data-icon="&#xe034;"aria-hidden="true" ng-show="!showRecipients" class="msgarrow" style="cursor:pointer"></span>
                                        <span data-icon="&#xe031;"aria-hidden="true" ng-show="showRecipients" class="msgarrow" style="cursor:pointer"></span>
                                        <span style="cursor:pointer">Recipients</span>
                                        <ul ng-class="{'testing':showRecipients}">
                                            <li ng-show="showRecipients" ng-repeat="to_name in message_datum.to_names track by $index">    <div><span class="recipients">{{to_name}}</span>
                                                    <span>hi</span>
                                            <!-- </div> -->
                                               
                                            </li>


                                        </ul>
                        
                                    </div>
                                    <div ng-if="message_datum.tox.length > 1" ng-click = "showRecipients = !showRecipients" > 
                                        <span data-icon="&#xe034;"aria-hidden="true" ng-show="!showRecipients" class="msgarrow" style="cursor:pointer"></span>
                                        <span data-icon="&#xe031;"aria-hidden="true" ng-show="showRecipients" class="msgarrow" style="cursor:pointer"></span>
                                        <span style="cursor:pointer">Recipient Details</span>
                                        <ul ng-class="{'testing':showRecipients}">
                                            <ul ng-show="showRecipients">
                                                <li  ng-repeat="foo in message_datum.foo track by $index">
                                                    <span class="recipients">{{foo.personName}}</span></br>
                                                    <span class="recipients">Message {{foo.event}} on {{foo.timestamp | date:'shortDate'}}</span>
                                                </li>
                                               
                        
                                                
                                            </ul>
                                           
                                        </ul>
                                    </div>
                              <!--   </ul> -->
                                </li>                
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
       <!--  </tab>             
         
    </tabset> -->
</div>
</div>

