<div class="row-fluid">
<div class="message-side">
<div class="messages tabbable" ng-if="getNumber == 0">
    <div class= "noMessages">
        You haven't sent any messages yet!
    </div>
</div>

 <div class="messages tabbable" ng-if="getNumber > 0">            
    <ul ng-style="height" class="activity-feed2">
                    <li class="event" ng-repeat="message_datum in message_data | orderBy:'time':true">
                        <div><img ng-src="/img/activity/message.png"></div>
                        <div>
                            <ul>
                                <li>
                                    <span>
                                        Message sent on {{message_datum.time | date:'shortDate'}} to <ng-pluralize count="message_datum.tox.length" when="{'1': 'one shareholder', 'other': '{} shareholders'}"></ng-pluralize>
                                    </span><br/>
                                    
                                    <div>
                                        <span data-icon="&#xe034;"aria-hidden="true" ng-show="!showRecipients" class="msgarrow" style="cursor:pointer" ng-click = "showRecipients = !showRecipients"></span>
                                        <span data-icon="&#xe031;"aria-hidden="true" ng-show="showRecipients" class="msgarrow" style="cursor:pointer" ng-click = "showRecipients = !showRecipients"></span>
                                        <span style="cursor:pointer" ng-click = "showRecipients = !showRecipients">Recipient Details</span>
                                        <ul ng-class="{'testing':showRecipients}">
                                            <ul ng-show="showRecipients">
                                                <li  ng-repeat="foo in message_datum.foo track by $index">
                                                    <span class="recipients">{{foo.personName}}</span>

                                                    <div class="recipients details" ng-if="foo.event !=='opened'">Message {{foo.event}}</div>
                                                    <div class="recipients details" ng-if="foo.event === 'opened'">Opened on {{foo.timestamp | date:'shortDate'}}</div>


                                                </li>                        
                                                
                                            </ul>
                                           
                                        </ul>
                        
                                    </div>          
                                </li>                
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
</div>
</div>

