<div class="new-nav" ng-mouseenter="navhover=true" ng-mouseleave="navhover=false">
    <div class="rail-menu show-hide-animation" ng-hide="navhover">
        <span data-icon="&#xe609;" aria-hidden="true"></span>
    </div>
    <accordion close-others="true" class="nav-content show-hide-animation" ng-hide="!navhover">
        <span class="nav-section-header" ng-show="companies.length > 1 && (companies | filter: {role:'issuer'}).length > 0"><span data-icon="&#xe011;" aria-hidden="true"></span>Admin</span>
        <accordion-group ng-class="{'opencomp': navState.company == company.company && navState.role == company.role, 'manycomp': companies.length > 1}" is-open="company.current" ng-repeat="company in companies | filter: {role:'issuer'}">
            <accordion-heading>
                <span data-icon="&#xe031;" aria-hidden="true" ng-show="company.current && companies.length > 1"></span>
                <span data-icon="&#xe034;" aria-hidden="true" ng-show="!company.current && companies.length > 1"></span>
                <span ng-show="companies.length > 1">{{company.name}}</span>
            </accordion-heading>
            <ul>
                <li ng-class="{activepage: navState.path.indexOf('/home/company') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/home/company')">Company Home</a>
                </li>
                <li ng-show="company.reasondic.rol" ng-class="{activepage: navState.path.indexOf('/ownership/company-captable') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/ownership/company-captable')">Cap Table</a>
                </li>
                <li ng-show="company.reasondic.rol" ng-class="{activepage: navState.path.indexOf('/ownership/company-grants') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/ownership/company-grants')">Grants Table</a>
                </li>
                <li ng-show="company.reasondic.rol" ng-class="{activepage: navState.path.indexOf('/documents/company-list') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/documents/company-list')">Documents</a>
                </li>
                <li ng-show="company.reasondic.rol" ng-class="{activepage: navState.path.indexOf('/company/profile/people') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/company/profile/people')">People</a>
                </li>
                <li ng-class="{activepage: navState.path.indexOf('/company/profile/') != -1 && navState.path.indexOf('people') == -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/company/profile/')">Company Account</a>
                </li>
            </ul>
        </accordion-group>
        <span class="nav-section-header" ng-show="companies.length > 1 && (companies | filter: {role:'investor'}).length > 0"><span data-icon="&#xe608;" aria-hidden="true"></span>Investments</span>
        <accordion-group ng-class="{'opencomp': navState.company == company.company && navState.role == company.role, 'manycomp': companies.length > 1}" is-open="company.current" ng-repeat="company in companies | filter: {role:'investor'}">
            <accordion-heading>
                <span data-icon="&#xe031;" aria-hidden="true" ng-show="company.current && companies.length > 1"></span>
                <span data-icon="&#xe034;" aria-hidden="true" ng-show="!company.current && companies.length > 1"></span>
                <span ng-show="companies.length > 1">{{company.name}}</span>
            </accordion-heading>
            <ul>
                <li ng-class="{activepage: navState.path.indexOf('/home/investor') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/home/investor')">Company Home</a>
                </li>
                <li ng-show="company.reasondic.own" ng-class="{activepage: navState.path.indexOf('/ownership/investor-captable') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/ownership/investor-captable')">Cap Table</a>
                </li>
                <li ng-show="company.reasondic.own" ng-class="{activepage: navState.path.indexOf('/ownership/investor-grants') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/ownership/investor-grants')">Grants Table</a>
                </li>
                <li ng-show="company.reasondic.doc" ng-class="{activepage: navState.path.indexOf('/ownership/investor-list') != -1 && navState.company == company.company}"><a class="button" ng-click="switchCandP(company, '/app/documents/investor-list')">Documents</a>
                </li>
            </ul>
        </accordion-group>
    </accordion>
    <div class="nav-bottom-buttons show-hide-animation" ng-hide="!navhover">
        <ul>
            <li class="button" ng-click="gotoPage('/app/new-company')">Create a new company</li>
        </ul>
    </div>
</div>