<div class="container">

  <div class="row-fluid">
    <div class="span8 docLibrary statusBlock">
      <div class="headsection row-fluid">
        <h1>{{cinfo[0].name}}</h1>

        <div class="row-fluid">

          <ul class="bodyText maintabs">
            <a href="/company/ownership/"><li class="button">Ownership</li></a>
            <li class="selectedtab">Grants</li>
            <a href="/company/ownership/status"><li class="button">Status</li></a>
           </ul>
        </div>
      </div>

      <div class="row-fluid">
        <div class="subnav-controls">
          <div>
            <div class="pull-left">
              <div class="edittoggle btn-group">
                <button type="button" class="btn btn" ng-model="radioModel" btn-radio="'Left'"><span data-icon="&#xe001;" aria-hidden="true"></button>
                <button type="button" class="btn btn" ng-model="radioModel" btn-radio="'Middle'"><span data-icon="&#xe00e;" aria-hidden="true"></button>
              </div>
            </div>
            <div class="pull-left">
              <div class="minidrop btn-group">
                <button ng-click="modalUp()" class="btn"><span data-icon="&#xe027;" aria-hidden="true"></button>
                <button class="btn dropdown-toggle" data-toggle="dropdown">
                  <span class="caret"></span>
                </button>
                <ul class="dropdown-menu">
                  <!-- dropdown menu links -->
                </ul>
              </div>
            </div>
          </div>
          <div class="DivHelper"></div>
        </div>
      </div>

      <div class="row-fluid">
       <table class="tableView bodyText">
            <tr class="column-label">
           	<th><span class="longrow">Shareholder</span></th>
              <th>Granted</th>
              <th>Vested</th>
              <th>Forfeited</th>
              <th>Exercised</th>
            </tr>
          <tr ng-click="getActiveTransaction(row.name)" ng-repeat="row in rows" ng-class="{rowSelected:row.state}">
            <td>
              <input disabled style="width:180px;" ng-model="row.name"></input>
            </td>
            <td>{{row.granted}}</td>
            <td>{{row.vested}}</td>
            <td>{{row.forfeited}}</td>
            <td>{{row.exercised}}</td>
          </tr>
          <tr class='tablefooter'>
            <td></td>
            <td><input disabled value="{{totalTranAction('granted', trans)}}"></input></td>
            <td><input disabled value="{{totalGrantAction('vested', grants);}}"></input></td>
            <td><input disabled value="{{totalTranAction('forfeited', trans)}}"></input></td>
            <td><input disabled value="{{totalGrantAction('exercised', grants);}}"></input></td>
          </tr>
        </table>
      </div>
    </div>


    <div class="span4">
      <div ng-switch on="sideBar" >
        <span ng-switch-when="1">
          <div class="headsection row-fluid">
              <h2>{{activeInvestor}}</h2>
              <p>Terms from the ownership table</p>
          </div>
          <tabset>
            <tab ng-repeat="tran in activeTran" heading="{{tran.datekey | date:'mediumDate'}}" active="tran.active">
              <p>Date <input disabled type="text" ng-model="tran.date" data-date-format="mm/dd/yyyy" bs-datepicker></p>

              <accordion close-others="true">
                  <accordion-group heading="Grant Information">
                    <p>Underlying Security
                      <select ng-init="tran.optundersec" ng-change="saveTran(tran)" ng-model="tran.optundersec" ng-options="i for i in tran.allowKeys">
                      <option></option>
                      </select>
                    </p>
                    <p>Price<input ui-event="{blur : 'saveTran(tran)'}" ng-model="tran.price"></input></p>
                    <p>Granted <input disabled value="{{totalGranted(tran.issue, trans);}}"></input></p>
                    <p>Term (months)<input ui-event="{blur : 'saveTran(tran)'}" ng-model="tran.terms"></input></p>
                    <p>Vesting Cliff %<input ui-event="{blur : 'saveTran(tran)'}" ng-model="tran.vestcliff"></input></p>
                    <p>Vesting Cliff Date<input ng-change="saveTran(tran)" type="text" ng-model="tran.vestingbegins" data-date-format="mm/dd/yyyy" bs-datepicker></p>
                    <p>Post Cliff Frequency
                      <select ng-init="tran.vestfreq" ng-change="saveTran(tran)" ng-model="tran.vestfreq" ng-options="i for i in freqtypes">
                      </select>
                    </p>
                  </accordion-group>
                  <accordion-group heading="Grant Activity">
                  <ul>
                    <li ng-repeat="act in tran.activeAct">
                      <p>Action
                        <select ng-init="act.action" ng-change="saveGrant(act)" ng-model="act.action" ng-options="i for i in possibleActions">
                        </select>
                      </p>
                      <p>Date <input ng-change="saveGrant(act)" type="text" ng-model="act.date" data-date-format="mm/dd/yyyy" bs-datepicker></p>
                      <p>Shares<input ui-event="{blur : 'saveGrant(act)'}" ng-model="act.unit"></input></p>
                    </li>
                  </ul>
                  </accordion-group>
              </accordion>
            </tab>
          </tabset>
        </span>

        <span ng-switch-when="2">
          <p>Investor Email <input disabled ng-model="activeInvestorName"></input></p>
        </span>
        <span ng-switch-default>
          <p>Welcome To Your Grants Section</p>
        </span>
      </div>
    </div>
  </div>
</div>
