<div class="container">

		<div modal="shouldBeOpen" close="close()" options="opts">
                <div class="modalHeader">
                    <p class="subText">Share Document</p>
                </div>
               	
                <div class="modalText">
                <form>
                    <p>Add People</p>
                    <input ng-model="sendeeEmail" type="email">
                    <p>Message</p>
                    <textarea style="resize: none;" rows="4" cols="40" ng-model="messageText"></textarea>
                    <br>
                    <div class="control-group input-append">
                      <input type="text" ng-model="datepicker.date" data-date-format="mm/dd/yyyy" bs-datepicker>
                      <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                    </div>
                    <p>Needs Signing? : <input type="checkbox" ng-model="needsign">Yes</p>
                </form>
                </div>
                <div class="modalButtons">
                    <button class="button subText greenButton" ng-click="close(); share(messageText, sendeeEmail, needsign)">Send</button>
                </div>
            </div>
            
         <div modal="revokeModal" close="revclose()" options="revopts">
                <div class="modalHeader">
                    <p class="subText">Revoke Access</p>
                </div>
               	
                <div class="modalText">
                {{revoke}} will no longer be able to view this document.
                </div>
                
                <div class="modalButtons">
                    <button class="button subText greyButton" ng-click="revclose();">Take me back!</button>
					<button class="button subText greenButton" ng-click="revclose(); revokeUser(revoke)">Revoke</button>
                </div>
            </div>
            
            <div modal="remModal" close="remclose()" options="remopts">
                <div class="modalHeader">
                    <p class="subText">Send Reminder</p>
                </div>
               	
                <div class="modalText">
                Send a reminder to {{reminder}}.
                <p>Message</p>
                    <textarea rows="4" cols="40" ng-model="messageText"></textarea>
                </div>
                
                <div class="modalButtons">
                    <button class="button subText greyButton" ng-click="remclose();">Never Mind!</button>
					<button class="button subText greenButton" ng-click="remclose(); remind(messageText, reminder);">Remind</button>
                </div>
            </div>

           <div class="row-fluid">
            <div class="headsection row-fluid">
                <h1><a href="/company/documents/"><i class="button icon-reply icon-2x"></i></a>{{document.docname}}</h1>

                <div class="row-fluid">

                  <ul class="bodyText maintabs">
                    <li class="selectedtab">Status</li>
                    <a href="/company/documents/view?doc={{document.doc_id}}"><li class="button">View</li></a>
                   </ul>
                </div>
            </div>
          </div>	
         
        
         <div class="row-fluid">
         
             <div class="span8">

                <div class="row-fluid">
                    <div class="subnav-controls">
                      <div>
                        <h2>Shareholder Status</h2>
                      </div>
                      <div class="DivHelper"></div>
                    </div>
                </div>
                <div class="row-fluid">
                 <table class="docLibrary tableView bodyText">
                      <tr class="column-label">
                        <th class="button"><span>Shareholder</span></th>
                        <th class="button"><span>Email</span></th>
                        <th colspan="2" class="button"><span>Status</span></th>
                      </tr>
                      	<tbody ng-repeat="person in userStatus">
                        <tr>
                        <td>{{person.name}}</td>
                        <td>{{person.sent_to}}</td>
               			    <td>{{person.event}}</td>
                        <td class="button" ng-click="(opendetails(person.sent_to))"><i class="{{person.button}}"></i></td>
                        </tr>
                        <tr ng-Show="person.shown" class="personButtons">
                            <td>
                            <div ng-switch on="person.rstatus">
                                <span ng-switch-when="1">
                                    <span class="button">View Full Profile</span>
                                </span>
                                <span ng-switch-default>
                                    <span class="button">View Full Profile</span>
                                    <span class="button" ng-click="revmodalUp(person.sent_to)">Revoke Access</span>
                                    <span class="button" ng-click="remmodalUp(person.sent_to)">Send Reminder</span>
                                </span>
                            </div>
                            </td>
                        </tr>
                        <tr ng-show="person.shown" class="personDetails">
                            <td colspan="2">
                                <div><p>Delivered</p><p class="doubleTime">{{person.whensent | date:'MMMM dd, yyyy'}}</p><p>{{person.whensent | date:'h:mm a'}}</p></div>

                                <div>
                                    <div ng-switch on="person.lastlogin" >
                                        <span ng-switch-when="0"><span class="hltext">Never Logged In</span></span>
                                        <span ng-switch-default><p>Last Login</p><p class="doubleTime">{{person.lastlogin | date:'MMMM dd, yyyy'}}</p><p>{{person.lastlogin | date:'h:mm a'}}</p></span>
                                    </div>
                                </div>

                                <div>
                                    <div ng-switch on="person.lastviewed" >
                                        <span ng-switch-when="0"><span class="hltext">Unviewed</span></span>
                                        <span ng-switch-default><p>Viewed</p><p class="doubleTime">{{person.lastviewed | date:'MMMM dd, yyyy'}}</p><p>{{person.lastviewed | date:'h:mm a'}}</p></span>
                                    </div>
                                </div>

                                <div>
                                	<div ng-switch on="person.signed" >
                                        <span ng-switch-when="0"><span class="hltext">Unsigned</span></span>
                                        <span ng-switch-default><p>Signed</p><p class="doubleTime">{{person.signed | date:'MMMM dd, yyyy'}}</p><p>{{person.signed | date:'h:mm a'}}</p></span>
                                    </div>
                                </div>
                                
<!--                                 <div>
                                	<div ng-switch on="person.column5" >
                                    	<p ng-switch-default="0"></p>
                                        <span ng-switch-when="2"><span>Revoked</span><span class="doubleTime">{{person.reminder | date:'MMMM dd, yyyy'}}</p><p>{{person.reminder | date:'h:mm a'}}</span></span>
                                        <span ng-switch-when="1">Resent<span class="doubleTime">{{person.reminder | date:'MMMM dd, yyyy'}}</span><span>{{person.reminder | date:'h:mm a'}}</span></span>
                                    </div>
                                </div> -->
                            </td>
                        </tr>
                        </tbody>
                    </table>      
                </div>
             </div>
         
  		 <div class="span3 offset1"> 

             <div class="row-fluid">
                <div class="subnav-controls">
                  <div>
                    <h2>Activity Feed</h2>
                  </div>
                  <div class="DivHelper"></div>
                </div>
            </div>  

             <div class="row-fluid">
                 <table>
                 <tr ng-repeat="active in activity | orderBy:activityOrder">
                 	<!-- <td><span data-icon="{{active.icon}}" aria-hidden="true"></span></td> -->
                    <td><i class="{{active.icon}}"></i></td>
                 	<td>
                    	<table>
                    		<tr><td>{{active.activity}} <ng-pluralize count="active.count" when="{'0': '', '1': '{{active.namethem}}', 'other': '{{active.count}} people'}"></ng-pluralize></td></tr>
                            <tr><td>{{active.event_time | date:"MMMM d, y"}}</td></tr>
                        </table>
                    </td>
                 </tr>
                 </table> 
             </div>   
         </div>
    </div>
</div>
