<div class="headsection row-fluid">
  <h1>{{name}}</h1>
</div>
<div class="editProfileFP row-fluid">
  <div id="detailsEdit" class="span8"> <!-- detailsEdit = Vertical line -->
    <div class="row-fluid">
      <div class="span3"> <!-- Photo -->
        <form>
          <div class="editProfilePhoto" ng-click="pictureModalOpen()">
            <img ng-src="{{photoURL}}" style='width:140px; height:140px;'>
          </div>
        </form>
      </div>
      <div class="span7">
        <p>
            <label><input class="name" ng-class="{'content':!name}" type="text" ng-model="name" maxlength="30" data-ui-event="{blur: 'contactSave()'}">
            Company Name</label>
        </p>
        <p><button class="button subText greenButton" ng-click="adminModalOpen()">Add Admin</button></p>
      </div>
    </div>
    <div class="row-fluid">
    <section class="recipientInfo statusBlock">
      <div><p class="title">Admins</p></div>
      <p>Administrators can access and edit all data associated to your company.</p>
      <table class="tableView bodyText">
        <tr class="subText">
          <th class="button" colspan="2"><span class="title sortedDown">Name</span></th>
        </tr>
        <tbody ng-repeat="admin in admins">
          <tr>
          <td>{{admin.name}}</td>
          <td class="button"><i ng-hide="admin.hideLock" ng-click="revokeModalOpen('{{admin.email}}');" class="icon-lock" data-tooltip-placement="bottom" data-tooltip-html-unsafe="Revoke admin privileges"></i>
          </tr>
        </tbody>
      </table>
    </section>
    </div>
  </div>
    <!--
    <div class="sidebar span4">
      <form>
        <fieldset>

          <p>
            <label><input disabled ng-class="{'content':!company}" type="text" ng-model="company" name="company">
            Website</label>
          </p>
          <p>
            <label><textarea ng-class="{'content':!address}" ng-model="address" name="address" rows="3" ui-event="{blur: 'contactSave()'}"></textarea>
            Address</label>
          </p>

      </fieldset>
    </form>
    -->

    <div>
      <p class="activityFeed-header subText">Activity Feed</p>
    </div> 
    <section class="statusFeed">
      <div class="noFeed" ng-show="noActivity">There is no activity yet.</div>
      <div class="activityBlock">
        <table>
          <tr ng-repeat="active in activity | orderBy:activityOrder" >
            <td><i class="{{active.icon}} icon"></i></td>
            <td class="item">
              <table>
                  <tr>
                    <td class="activity">{{active.email}} {{active.activity}}<a href="{{active.link}}">{{active.target}}</a> </td>
                  </tr>
                  <tr><td class="time">{{active.timeAgo}}</td></tr>
              </table>
          </td>
        </tr>
      </table>

    </div>   
    </section>
  </div>
</div>

<div modal="pictureModal" close="pictureModalClose()" options="narrowopts">
    <div class="modalHeader">
        <span data-icon="&#xe00b;" aria-hidden="true"></span>Update company logo
        <span class="close" data-icon="&#xe00f;" aria-hidden="true" ng-click="pictureModalClose()"></span>
    </div>

  <div class="modalText">
    <p>You can upload a JPG, GIF, or PNG (file size limit is 1MB)</p>
    <form class="form-inline">
      <fieldset>
          <div class="fileinputs">
              <input type="file" class='file' onchange="angular.element(this).scope().setFiles(this);"/>
              <div class="fakefile">
                  <span>CHOOSE FILE</span>
                  <div ng-show="files.length">
                      <span>{{files[0].name | fileLength}}</span>
                  </div>
              </div>
          </div>
      </fieldset>
    </form>
  </div>
  <div class="modalButtons two">
      <div class="left"><button class="button subText blueButton left" ng-click="pictureModalClose()">Cancel</button></div>
      <div class="right"><button value="Upload" class="button subText greenButton" ng-click="uploadFile(); pictureModalClose();">Upload</button></div>


    <!--<input class="bodyText button uploadButton" type="button" ng-click="uploadFile(); pictureModalClose();" value="Upload" />-->
  </div>
</div>

<div modal="adminModal" close="adminModalClose()" options="narrowopts">
   <div class="modalHeader">
        <span data-icon="&#xe026;" aria-hidden="true"></span>Add administrator
        <span class="close" data-icon="&#xe00f;" aria-hidden="true" ng-click="adminModalClose()"></span>
    </div>

   <div class="modalCopy">
    <form>
      <fieldset>
        <div class="row-fluid field">
          <label>Email
          <input type="text" ng-class="{'content':!newEmail}" ng-model="newEmail" />
            </label>
        </div>
      </fieldset>
    </form>
  </div>


  <div class="modalButtons two">
      <div class="left"><button class="button subText blueButton left" ng-click="adminModalClose()">Cancel</button></div>
      <div class="right"><button class="button subText greenButton" ng-disabled="fieldCheck()" ng-click="create_admin(); adminModalClose();">Send</button></div>
      <!--<input class="button subText greenButton" type="button" ng-click="create_admin(); adminModalClose();" value="Send" />-->
  </div>
</div>

<div modal="revokeModal" close="revokeModalClose()" options="narrowopts">
    <div class="modalHeader">
        <span data-icon="&#xe026;" aria-hidden="true"></span>Remove admin
        <span class="close" data-icon="&#xe00f;" aria-hidden="true" ng-click="revokeModalClose()"></span>
    </div>

  <div class="modalText">
    <p>Do you want to remove this person as an administrator?</p>
  </div>
    <div class="modalButtons two">
        <div class="left"><button class="button subText blueButton left" ng-click="revokeModalClose()">Cancel</button></div>
        <div class="right"><button class="button subText greenButton" ng-click="revokeAdmin(); revokeModalClose();">Remove</button></div>
  </div>
</div>
